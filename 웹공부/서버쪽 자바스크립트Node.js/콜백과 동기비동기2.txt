callback 함수
-> 누군가에게 나중에 호출된 함수

자바스크립트 메소드중에 

a = [3,1,2] ;  배열이있는데 

a.sort();      하면 1 ,2 ,3 으로 정렬된다

		근데 sort() 인자로 함수가올수있다. 



function b(v1,v2 ){return v2-v1}; = 이형식을지켜야함 약속

			            그러면 b라는 함수를만듬 


sort(b); 			  = 라고주면 정렬을 반대로할수있다 3 2 1

				  * b라는 함수는 sort함수가 부른거다. 
				    내가 직접부른게아니다 자기가 필요할때 불러서 쓴거다.


저 인자로 직접함수를쓸수도있다.   =일회용(익명함수)  

이것을 콜백함수라고한다 이걸이용해서 sort의 기능을 확장해서썻다.

--------------------------------------------------------------------------------

 동기(Synchronous) , 비동기(Asynchronous)
       Sync                  Async


 동기는    만명에게 한명한명보냄 명당 1초걸리면 10000초걸림 

 비동기는  업체에맡기는거다 끝나면 알려줘요~그리고 메세지전송을시작했습니다.라는것만 알려주고 
           백그라운드에서 보내고있겠지

 

 node.js 는 비동기식으로 처리한다가 철학임 

            i/o 입출력관련은 비동기로 처리하고  
       
            특별히 동기적으로 처리할때는 Sync가 적힌거를 쓰면된다. (되도록쓰지마라)



예제) 파일시스템: 파일을 읽는작업을한다면

일단 파일시스템도 모듈이라서 인클루드 시켜야함 

 var fs = require('fs');

 그리고

동기식 -
 console.log(1);
 var data = fs.readFileSync('data.txt',{encoding:'utf8'});         = 파일을읽는데 utf8로 읽는다.
 console.log(data);



비동기식-
 console.log(2);
 fs.readFile('data.txt', {encoding:'utf8'}, function(err, data){console.log(data);}); 
 console.log(4);

 readFile 메소드의 인자는 설명서에나온대로하고 
 비동기식은 콜백이있다.  
 
 즉 readFile이 일을시작하고 바로  console.log(4); 를실행한다.

 그리고나서 
 
 파일을 readFile 이 다읽으면 콜백함수를 실행시켜서 다됐다는것을 알린다.











  


  